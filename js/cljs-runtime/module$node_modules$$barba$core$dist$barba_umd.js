var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(array){var index=0;return function(){return index<array.length?{done:!1,value:array[index++]}:{done:!0}}};$jscomp.arrayIterator=function(array){return{next:$jscomp.arrayIteratorImpl(array)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(target,property,descriptor){target!=Array.prototype&&target!=Object.prototype&&(target[property]=descriptor.value)};$jscomp.getGlobal=function(maybeGlobal){return"undefined"!=typeof window&&window===maybeGlobal?maybeGlobal:"undefined"!=typeof global&&null!=global?global:maybeGlobal};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var counter=0;return function(opt_description){return $jscomp.SYMBOL_PREFIX+(opt_description||"")+counter++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var symbolIterator=$jscomp.global.Symbol.iterator;symbolIterator||(symbolIterator=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[symbolIterator]&&$jscomp.defineProperty(Array.prototype,symbolIterator,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var symbolAsyncIterator=$jscomp.global.Symbol.asyncIterator;symbolAsyncIterator||(symbolAsyncIterator=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(next){$jscomp.initSymbolIterator();next={next:next};next[$jscomp.global.Symbol.iterator]=function(){return this};return next};
shadow$provide.module$node_modules$$barba$core$dist$barba_umd=function(global,process,require,module,exports,shadow$shims){!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.barba=t()}(this,function(){function t$jscomp$2(r,i,e){if(!r.s){if(e instanceof n$jscomp$5){if(!e.s)return void(e.o=t$jscomp$2.bind(null,r,i));1&i&&(i=e.s);e=e.v}if(e&&e.then)return void e.then(t$jscomp$2.bind(null,r,i),t$jscomp$2.bind(null,r,
2));r.s=i;r.v=e;(i=r.o)&&i(r)}}function r$jscomp$2(n,t){try{var r=n()}catch(n$2){return t(n$2)}return r&&r.then?r.then(void 0,t):r}function p(n,t){var r,i=[],e=0,o=0,u="",f=t&&t.delimiter||l;t=t&&t.whitelist||void 0;for(var s=!1;null!==(r=d.exec(n));){var a=r[0],h=r[1],v=r.index;if(u+=n.slice(o,v),o=v+a.length,h)u+=h[1],s=!0;else{a="";h=r[2];v=r[3];var P=r[4];r=r[5];if(!s&&u.length){var E=u.length-1,x=u[E];(!t||-1<t.indexOf(x))&&(a=x,u=u.slice(0,E))}u&&(i.push(u),u="",s=!1);v=v||P;P=a||f;i.push({name:h||
e++,prefix:a,delimiter:P,optional:"?"===r||"*"===r,repeat:"+"===r||"*"===r,pattern:v?v.replace(/([=!:$\/()])/g,"\\$1"):"[^"+m(P===f?P:P+f)+"]+?"})}}return(u||o<n.length)&&i.push(u+n.substr(o)),i}function w(n){for(var t=Array(n.length),r$jscomp$0=0;r$jscomp$0<n.length;r$jscomp$0++)"object"==typeof n[r$jscomp$0]&&(t[r$jscomp$0]=new RegExp("^(?:"+n[r$jscomp$0].pattern+")$"));return function(r,i){var e="";i=i&&i.encode||encodeURIComponent;for(var u=0;u<n.length;u++){var f=n[u];if("string"!=typeof f){var c,
s=r?r[f.name]:void 0;if(Array.isArray(s)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but got array');if(0===s.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty');}for(var a=0;a<s.length;a++){if(c=i(s[a],f),!t[u].test(c))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'"');e+=(0===a?f.prefix:f.delimiter)+c}}else if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s){if(!f.optional)throw new TypeError('Expected "'+
f.name+'" to be '+(f.repeat?"an array":"a string"));}else{if(c=i(String(s),f),!t[u].test(c))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but got "'+c+'"');e+=f.prefix+c}}else e+=f}return e}}function m(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function P(n,t,r){var i=(r=r||{}).strict,e=!1!==r.start,o=!1!==r.end,u=r.delimiter||l,f=[].concat(r.endsWith||[]).map(m).concat("$").join("|");e=e?"^":"";for(var s=0;s<n.length;s++){var a=n[s];if("string"==typeof a)e+=m(a);
else{var h=a.repeat?"(?:"+a.pattern+")(?:"+m(a.delimiter)+"(?:"+a.pattern+"))*":a.pattern;t&&t.push(a);e+=a.optional?a.prefix?"(?:"+m(a.prefix)+"("+h+"))?":"("+h+")?":m(a.prefix)+"("+h+")"}}o?(i||(e+="(?:"+m(u)+")?"),e+="$"===f?"$":"(?\x3d"+f+")"):(n=n[n.length-1],n="string"==typeof n?n[n.length-1]===u:void 0===n,i||(e+="(?:"+m(u)+"(?\x3d"+f+"))?"),n||(e+="(?\x3d"+m(u)+"|"+f+")"));return new RegExp(e,r&&r.sensitive?"":"i")}function q(n$jscomp$1,t$jscomp$1,r$jscomp$0){return void 0===t$jscomp$1&&(t$jscomp$1=
2E3),function(n$jscomp$0,t$jscomp$0,r,i){return new Promise(function(e,o){var u=window.setTimeout(function(){var t=Error("Timeout error");i(n$jscomp$0,t);o(t)},t$jscomp$0);r.then(function(n){window.clearTimeout(u);e(n)},function(t){window.clearTimeout(u);i(n$jscomp$0,t);o(t)}).catch(function(n){o(n)})})}(n$jscomp$1,t$jscomp$1,U(n$jscomp$1),r$jscomp$0)}var n$jscomp$5=function(){function n$jscomp$0(){}return n$jscomp$0.prototype.then=function(r,i){var e=new n$jscomp$0,o$jscomp$0=this.s;if(o$jscomp$0){if(o$jscomp$0=
1&o$jscomp$0?r:i){try{t$jscomp$2(e,1,o$jscomp$0(this.v))}catch(n$0){t$jscomp$2(e,2,n$0)}return e}return this}return this.o=function(n){try{var o=n.v;1&n.s?t$jscomp$2(e,1,r?r(o):o):i?t$jscomp$2(e,1,i(o)):t$jscomp$2(e,2,o)}catch(n$1){t$jscomp$2(e,2,n$1)}},e},n$jscomp$0}(),i$jscomp$4;$jscomp.initSymbol();$jscomp.initSymbolAsyncIterator();$jscomp.initSymbol();$jscomp.initSymbolAsyncIterator();$jscomp.initSymbol();Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"));!0;(function(n){n[n.off=
0]="off";n[n.error=1]="error";n[n.warning=2]="warning";n[n.info=3]="info";n[n.debug=4]="debug"})(i$jscomp$4||(i$jscomp$4={}));var o=i$jscomp$4.off,u=function(n){this.m=n};u.getLevel=function(){return o};u.setLevel=function(n){return o=i$jscomp$4[n]};u.prototype.error=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];this.P(console.error,i$jscomp$4.error,n)};u.prototype.warn=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];this.P(console.warn,i$jscomp$4.warning,n)};
u.prototype.info=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];this.P(console.info,i$jscomp$4.info,n)};u.prototype.debug=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];this.P(console.log,i$jscomp$4.debug,n)};u.prototype.P=function(n,t,r){t<=u.getLevel()&&n.apply(console,["["+this.m+"] "].concat(r))};var f$jscomp$0=function(){this.logger=new u("@barba/core");this.all="go reset currentAdded currentRemoved nextAdded nextRemoved beforeAppear appear afterAppear appearCanceled before beforeLeave leave afterLeave leaveCanceled beforeEnter enter afterEnter enterCanceled after".split(" ");
this.registered=new Map;this.init()};f$jscomp$0.prototype.init=function(){var n=this;this.registered.clear();this.all.forEach(function(t){n[t]||(n[t]=function(r,i){void 0===i&&(i=null);n.registered.has(t)||n.registered.set(t,new Set);n.registered.get(t).add({ctx:i,fn:r})})})};f$jscomp$0.prototype.do=function(n$jscomp$0){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];this.registered.has(n$jscomp$0)&&this.registered.get(n$jscomp$0).forEach(function(n){n.fn.apply(n.ctx,t)})};f$jscomp$0.prototype.clear=
function(){var n=this;this.all.forEach(function(t){delete n[t]});this.init()};f$jscomp$0.prototype.help=function(){this.logger.info("[@barba/core] Available hooks: "+this.all);this.logger.info("[@barba/core] Registered hooks: "+Object.keys(this.registered))};var c=new f$jscomp$0,s$jscomp$0=function n$jscomp$0(t$jscomp$0,r$jscomp$0,i$jscomp$0){return t$jscomp$0 instanceof RegExp?function(n,t){if(!t)return n;var r=n.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)t.push({name:i,prefix:null,
delimiter:null,optional:!1,repeat:!1,pattern:null});return n}(t$jscomp$0,r$jscomp$0):Array.isArray(t$jscomp$0)?function(t,r,i){for(var e=[],o=0;o<t.length;o++)e.push(n$jscomp$0(t[o],r,i).source);return new RegExp("(?:"+e.join("|")+")",i&&i.sensitive?"":"i")}(t$jscomp$0,r$jscomp$0,i$jscomp$0):function(n,t,r){return P(p(n,r),t,r)}(t$jscomp$0,r$jscomp$0,i$jscomp$0)},l="/",d=/(\\.)|(?:\:(\w+)(?:\(((?:\\.|[^\\()])+)\))?|\(((?:\\.|[^\\()])+)\))([+*?])?/g;s$jscomp$0.parse=p;s$jscomp$0.compile=function(n,
t){return w(p(n,t))};s$jscomp$0.tokensToFunction=w;s$jscomp$0.tokensToRegExp=P;var g={container:"container",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"};f$jscomp$0=function(){this.g=g;this.A=new DOMParser};f$jscomp$0.prototype.toString=function(n){return n.outerHTML};f$jscomp$0.prototype.toDocument=function(n){return this.A.parseFromString(n,"text/html")};f$jscomp$0.prototype.getHtml=function(n){return void 0===n&&(n=document),this.toString(n.documentElement)};f$jscomp$0.prototype.getWrapper=
function(n){return void 0===n&&(n=document),n.querySelector("["+this.g.prefix+'\x3d"'+this.g.wrapper+'"]')};f$jscomp$0.prototype.getContainer=function(n){return void 0===n&&(n=document),n.querySelector("["+this.g.prefix+'\x3d"'+this.g.container+'"]')};f$jscomp$0.prototype.getNamespace=function(n){void 0===n&&(n=document);return(n=n.querySelector("["+this.g.prefix+"-"+this.g.namespace+"]"))?n.getAttribute(this.g.prefix+"-"+this.g.namespace):null};f$jscomp$0.prototype.getUrl=function(n){return n.getAttribute&&
n.getAttribute("href")?n.href:null};var x$jscomp$0=new f$jscomp$0,A=function(n$jscomp$0,t){try{var r=function(){if(!t.html)return Promise.resolve(n$jscomp$0).then(function(n){n&&(n=x$jscomp$0.toDocument(n),t.namespace=x$jscomp$0.getNamespace(n),t.container=x$jscomp$0.getContainer(n),t.html=x$jscomp$0.getHtml(n))})}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(n$4){return Promise.reject(n$4)}},T={updateNext:A,pathToRegexp:s$jscomp$0},O=function(){return window.location.origin},
R=function(n){n=n||window.location.port;var r=window.location.protocol;return""!==n?parseInt(n,10):"https:"===r?443:80},k=function(n){return C(n).path},C=function(n){var t;n=S(n);var i={},e=n.indexOf("#");0<=e&&(t=n.slice(e+1),n=n.slice(0,e));e=n.indexOf("?");return 0<=e&&(i=L(n.slice(e+1)),n=n.slice(0,e)),{hash:t,path:n,query:i}},L=function(n$jscomp$0){return n$jscomp$0.split("\x26").reduce(function(n,t){t=t.split("\x3d");return n[t[0]]=t[1],n},{})},S=function(n,t){return void 0===t&&(t=O()),n.replace(t,
"")},$={getHref:function(){return window.location.href},getOrigin:O,getPort:R,getPath:k,parse:C,parseQuery:L,clean:S};f$jscomp$0=function(n$jscomp$0){(this.j=[],"boolean"==typeof n$jscomp$0)?this.T=n$jscomp$0:this.j=(Array.isArray(n$jscomp$0)?n$jscomp$0:[n$jscomp$0]).map(function(n){return s$jscomp$0(n)})};f$jscomp$0.prototype.checkUrl=function(n$jscomp$0){if("boolean"==typeof this.T)return this.T;var t=C(n$jscomp$0).path;return this.j.some(function(n){return null!==n.exec(t)})};var N=function(n$jscomp$0){function t$jscomp$0(t){n$jscomp$0.call(this,
t);this.O=new Map}return n$jscomp$0&&(t$jscomp$0.__proto__=n$jscomp$0),(t$jscomp$0.prototype=Object.create(n$jscomp$0&&n$jscomp$0.prototype)).constructor=t$jscomp$0,t$jscomp$0.prototype.set=function(n,t){return this.checkUrl(n)||this.O.set(n,t),t},t$jscomp$0.prototype.get=function(n){return this.O.get(n)},t$jscomp$0.prototype.has=function(n){return this.O.has(n)},t$jscomp$0.prototype.delete=function(n){return this.O.delete(n)},t$jscomp$0}(f$jscomp$0),B=function(){this.O=[]},I={current:{configurable:!0},
previous:{configurable:!0}};B.prototype.add=function(n,t){this.O.push({url:n,ns:t})};B.prototype.remove=function(){this.O.pop()};B.prototype.push=function(n,t){this.add(n,t);window.history&&window.history.pushState(null,"",n)};B.prototype.cancel=function(){this.remove();window.history&&window.history.back()};I.current.get=function(){return this.O[this.O.length-1]};I.previous.get=function(){return 2>this.O.length?null:this.O[this.O.length-2]};Object.defineProperties(B.prototype,I);var U=function(n$jscomp$0){try{var t=
new Headers({"x-barba":"yes"});return Promise.resolve(r$jscomp$2(function(){return Promise.resolve(self.fetch(n$jscomp$0,{cache:"default",headers:t,method:"GET"})).then(function(n){if(200<=n.status&&300>n.status)return n.text();throw n;})},function(n){throw n;}))}catch(n$5){return Promise.reject(n$5)}},D,H=function(){return!window.history.pushState},_=function(n){return!n.el||!n.href},G=function(n){n=n.event;return 1<n.which||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey},Q=function(n){n=n.el;return n.hasAttribute("target")&&
"_blank"===n.target},W=function(n){n=n.el;return window.location.protocol!==n.protocol||window.location.hostname!==n.hostname},z=function(n){n=n.el;return R()!==R(n.port)},F=function(n){n=n.el;return n.getAttribute&&"string"==typeof n.getAttribute("download")},J=function(n){return n.el.hasAttribute(g.prefix+"-"+g.prevent)},K=function(n){return!!n.el.closest("["+g.prefix+"-"+g.prevent+'\x3d"all"]')},V=function(n){return k(n.href)===k(window.location.href)},X=function(n$jscomp$0){function t$jscomp$0(t){n$jscomp$0.call(this,
t);this.suite=[];this.tests=new Map;this.init()}return n$jscomp$0&&(t$jscomp$0.__proto__=n$jscomp$0),(t$jscomp$0.prototype=Object.create(n$jscomp$0&&n$jscomp$0.prototype)).constructor=t$jscomp$0,t$jscomp$0.prototype.init=function(){this.add("pushState",H);this.add("exists",_);this.add("newTab",G);this.add("blank",Q);this.add("corsDomain",W);this.add("corsPort",z);this.add("download",F);this.add("preventSelf",J);this.add("preventAll",K);this.add("sameUrl",V,!1)},t$jscomp$0.prototype.add=function(n,
t,r){void 0===r&&(r=!0);this.tests.set(n,t);r&&this.suite.push(n)},t$jscomp$0.prototype.run=function(n,t,r,i){return this.tests.get(n)({el:t,event:r,href:i})},t$jscomp$0.prototype.checkLink=function(n,t,r){var i=this;return this.suite.some(function(e){return i.run(e,n,t,r)})},t$jscomp$0}(f$jscomp$0),Y=(function(n$jscomp$1){var t$jscomp$1=n$jscomp$1.exports=function(n$jscomp$0,t$jscomp$0){return t$jscomp$0=t$jscomp$0||function(){},function(){var r$jscomp$0=!1,i=arguments,e$jscomp$0=new Promise(function(t,
e){var u=n$jscomp$0.apply({async:function(){return r$jscomp$0=!0,function(n,r){n?e(n):t(r)}}},Array.prototype.slice.call(i));r$jscomp$0||(!u||"object"!=typeof u&&"function"!=typeof u||"function"!=typeof u.then?t(u):u.then(t,e))});return e$jscomp$0.then(t$jscomp$0.bind(null,null),t$jscomp$0),e$jscomp$0}};t$jscomp$1.cb=function(n,r){return t$jscomp$1(function(){var t=Array.prototype.slice.call(arguments);return t.length===n.length-1&&t.push(this.async()),n.apply(this,t)},r)}}(D={exports:{}}),D.exports),
Z=function(n){void 0===n&&(n=[]);this.logger=new u("@barba/core");this.all=[];this.appear=[];this.R=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}];n&&(this.all=this.all.concat(n));this.k()};Z.prototype.add=function(n,t){switch(n){case "rule":this.R.splice(t.position||0,0,t.value);break;default:this.all.push(t)}this.k()};Z.prototype.resolve=function(n,t){var r=this;void 0===t&&(t=!1);var i$jscomp$0=t?this.appear:this.all,e$jscomp$0=new Map;i$jscomp$0=i$jscomp$0.find(function(i){var o=
!0,u={};return r.R.reverse().forEach(function(e){o&&(o=r.C(i,e,n,u),t||(i.from&&i.to&&(o=r.C(i,e,n,u,"from")&&r.C(i,e,n,u,"to")),i.from&&!i.to&&(o=r.C(i,e,n,u,"from")),!i.from&&i.to&&(o=r.C(i,e,n,u,"to"))))}),e$jscomp$0.set(i,u),o});return this.logger.info(e$jscomp$0.get(i$jscomp$0)),i$jscomp$0};Z.prototype.k=function(){var n$jscomp$0=this;this.all=this.all.map(function(t){return n$jscomp$0.L(t)}).sort(function(n,t){return n.priority-t.priority}).reverse().map(function(n){return delete n.priority,
n});this.appear=this.all.filter(function(n){return n.appear})};Z.prototype.C=function(n,t,r,i,e){var o=!0,u=!1,c=t.name,v=e?n[e]:n,l="to"===e?r.next:r.current;if(e?v&&v[c]:v[c]){switch(t.type){default:t=Array.isArray(v[c])?v[c]:[v[c]];l[c]&&-1!==t.indexOf(l[c])&&(u=!0);-1===t.indexOf(l[c])&&(o=!1);break;case "object":t=Array.isArray(v[c])?v[c]:[v[c]];l[c]&&l[c].name&&-1!==t.indexOf(l[c].name)&&(u=!0);-1===t.indexOf(l[c].name)&&(o=!1);break;case "function":v[c](r)?u=!0:o=!1}u&&(e?(i[e]=i[e]||{},i[e][c]=
n[e][c]):i[c]=n[c])}return o};Z.prototype.S=function(n,t,r){var i=0;return(n[t]||n.from&&n.from[t]||n.to&&n.to[t])&&(i+=Math.pow(10,r),n.from&&n.from[t]&&(i+=1),n.to&&n.to[t]&&(i+=2)),i};Z.prototype.L=function(n){var t=this,r=n.priority=0;return this.R.forEach(function(i,e){r+=t.S(n,i.name,e+1)}),n.priority=r,n};var nn=function(n){void 0===n&&(n=[]);this.logger=new u("@barba/core");this.$=!1;this.store=new Z(n)};D={isRunning:{configurable:!0},hasAppear:{configurable:!0},shouldWait:{configurable:!0}};
nn.prototype.get=function(n,t){return void 0===t&&(t=!1),this.store.resolve(n,t)};D.isRunning.get=function(){return this.$};D.hasAppear.get=function(){return 0<this.store.appear.length};D.shouldWait.get=function(){return this.store.all.some(function(n){return n.to&&!n.to.route||n.sync})};nn.prototype.doAppear=function(n$jscomp$0){var t=n$jscomp$0.data,i=n$jscomp$0.transition;try{n$jscomp$0=function(n){e.$=!1};var e=this;if(!i)return void e.logger.warn("No transition found");e.$=!0;var f=r$jscomp$2(function(){return Promise.resolve(e.M("beforeAppear",
t,i)).then(function(){return Promise.resolve(e.N(t,i)).then(function(){return Promise.resolve(e.M("afterAppear",t,i)).then(function(){})})})},function(n){return e.logger.error(n),Promise.resolve(e.M("appearCanceled",t,i)).then(function(){throw Error("Transition error [appear]");})});return f&&f.then?f.then(n$jscomp$0):n$jscomp$0()}catch(n$7){return Promise.reject(n$7)}};nn.prototype.doPage=function(n$jscomp$3){var t=n$jscomp$3.data,i$jscomp$2=n$jscomp$3.transition,e=n$jscomp$3.page,o=n$jscomp$3.wrapper;
try{n$jscomp$3=function(n){u.$=!1};var u=this;!i$jscomp$2&&u.logger.warn("No transition found");var c=i$jscomp$2||{},s=!0===c.sync||!1;u.$=!0;var a=r$jscomp$2(function(){function n$jscomp$2(){return Promise.resolve(u.M("before",t,c)).then(function(){function n$jscomp$1(n){u.M("after",t,c)}var i$jscomp$0=function(){if(s)return r$jscomp$2(function(){return Promise.resolve(u.M("beforeLeave",t,c)).then(function(){return Promise.resolve(u.M("beforeEnter",t,c)).then(function(){return u.B(t,o),Promise.resolve(Promise.all([u.I(t,
c),u.U(t,c)])).then(function(){return Promise.resolve(u.M("afterLeave",t,c)).then(function(){return u.q(t),Promise.resolve(u.M("afterEnter",t,c)).then(function(){})})})})})},function(){return Promise.resolve(u.M("leaveCanceled",t,c)).then(function(){return Promise.resolve(u.M("enterCanceled",t,c)).then(function(){throw Error("Transition error [page][sync]");})})});var n$9=function(n$jscomp$0){return r$jscomp$2(function(){var n=function(){if(!1!==i)return Promise.resolve(u.M("beforeEnter",t,c)).then(function(){return u.B(t,
o),Promise.resolve(u.U(t,c,i)).then(function(){return Promise.resolve(u.M("afterEnter",t,c)).then(function(){})})})}();if(n&&n.then)return n.then(function(){})},function(){return Promise.resolve(u.M("leaveCanceled",t,c)).then(function(){return Promise.resolve(u.M("enterCanceled",t,c)).then(function(){throw Error("Transition error [page][enter]");})})})},i=!1,f=r$jscomp$2(function(){return Promise.resolve(u.M("beforeLeave",t,c)).then(function(){return Promise.resolve(Promise.all([u.I(t,c),A(e,t.next)]).then(function(n){return n[0]})).then(function(n){return i=
n,Promise.resolve(u.M("afterLeave",t,c)).then(function(){u.q(t)})})})},function(){return Promise.resolve(u.M("leaveCanceled",t,c)).then(function(){throw Error("Transition error [page][leave]");})});return f&&f.then?f.then(n$9):n$9()}();return i$jscomp$0&&i$jscomp$0.then?i$jscomp$0.then(n$jscomp$1):n$jscomp$1()})}var i$jscomp$1=function(){if(s)return Promise.resolve(A(e,t.next)).then(function(){})}();return i$jscomp$1&&i$jscomp$1.then?i$jscomp$1.then(n$jscomp$2):n$jscomp$2()},function(n){throw u.logger.error(n),
Error("Transition error");});return a&&a.then?a.then(n$jscomp$3):n$jscomp$3()}catch(n$10){return Promise.reject(n$10)}};nn.prototype.N=function(n,t){return c.do("appear",n,t),t.appear?Y(t.appear)(n):Promise.resolve()};nn.prototype.I=function(n,t){return c.do("leave",n,t),t.leave?Y(t.leave)(n):Promise.resolve()};nn.prototype.U=function(n,t,r){return c.do("enter",n,t),t.enter?Y(t.enter)(n,r):Promise.resolve()};nn.prototype.M=function(n,t,r){return c.do(n,t,r),r[n]?Y(r[n])(t):Promise.resolve()};nn.prototype.B=
function(n,t){t.appendChild(n.next.container);c.do("nextAdded",n)};nn.prototype.q=function(n){n.current.container.remove();c.do("currentRemoved",n)};Object.defineProperties(nn.prototype,D);var rn=function(n$jscomp$0){var t=this;this.names="beforeAppear afterAppear beforeLeave afterLeave beforeEnter afterEnter".split(" ");this.byNamespace=new Map;0!==n$jscomp$0.length&&(n$jscomp$0.forEach(function(n){t.byNamespace.set(n.namespace,n)}),this.names.forEach(function(n){c[n](t.D(n),t)}))};rn.prototype.D=
function(n){var t=this;return function(r){var i=t.byNamespace.get(r.current.namespace);i&&i[n]&&i[n](r)}};Element.prototype.closest||(Element.prototype.closest=function(n){var t=this;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var en={container:void 0,html:void 0,namespace:void 0,url:{hash:void 0,href:void 0,path:void 0,query:{}}};D=function(){this.version="2.0.1-next.97+33c213b";this.schemaPage=en;this.Logger=u;this.logger=new u("@barba/core");
this.plugins=[];this.hooks=c;this.dom=x$jscomp$0;this.helpers=T;this.request=q;this.url=$};f$jscomp$0={data:{configurable:!0},wrapper:{configurable:!0}};return D.prototype.use=function(n,t){var r=this.plugins;-1<r.indexOf(n)?this.logger.warn("Plugin ["+n.name+"] already installed."):"function"==typeof n.install?(n.install(this,t),r.push(n)):this.logger.warn("Plugin ["+n.name+'] has no "install" method.')},D.prototype.init=function(n$jscomp$0){void 0===n$jscomp$0&&(n$jscomp$0={});var t=n$jscomp$0.transitions;
void 0===t&&(t=[]);var r=n$jscomp$0.views;void 0===r&&(r=[]);var i=n$jscomp$0.prevent;void 0===i&&(i=null);var e=n$jscomp$0.timeout;void 0===e&&(e=2E3);var o=n$jscomp$0.requestError,f=n$jscomp$0.cacheIgnore;void 0===f&&(f=!1);var c=n$jscomp$0.prefetchIgnore;void 0===c&&(c=!1);var s=n$jscomp$0.schema;void 0===s&&(s=g);var a=n$jscomp$0.debug;void 0===a&&(a=!1);n$jscomp$0=n$jscomp$0.logLevel;if(void 0===n$jscomp$0&&(n$jscomp$0="off"),u.setLevel(!0===a?"debug":n$jscomp$0),Object.keys(s).forEach(function(n){g[n]&&
(g[n]=s[n])}),this.H=o,this.timeout=e,this.cacheIgnore=f,this.prefetchIgnore=c,this._=this.dom.getWrapper(),!this._)throw Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite");this.G();e=this.data.current;if(!e.container)throw Error("[@barba/core] No Barba container found");if(this.history=new B,this.cache=new N(f),this.prevent=new X(c),this.transitions=new nn(t),this.views=new rn(r),null!==i){if("function"!=typeof i)throw Error("[@barba/core] Prevent should be a function");
this.prevent.add("preventCustom",i)}this.history.add(e.url.href,e.namespace);this.cache.set(e.url.href,Promise.resolve(e.html));this.W=this.W.bind(this);this.F=this.F.bind(this);this.J=this.J.bind(this);this.K();this.plugins.forEach(function(n){return n.init()});this.appear()},D.prototype.destroy=function(){this.G();this.V();this.hooks.clear();this.plugins=[]},f$jscomp$0.data.get=function(){return this.X},f$jscomp$0.wrapper.get=function(){return this._},D.prototype.force=function(n){window.location.assign(n)},
D.prototype.appear=function(){try{var n=this,t$jscomp$1=function(){if(n.transitions.hasAppear){var t$jscomp$0=r$jscomp$2(function(){var t=n.X,r=n.transitions.get(t,!0);return Promise.resolve(n.transitions.doAppear({transition:r,data:t})).then(function(){})},function(t){n.logger.error(t)});if(t$jscomp$0&&t$jscomp$0.then)return t$jscomp$0.then(function(){})}}();return t$jscomp$1&&t$jscomp$1.then?t$jscomp$1.then(function(){}):void 0}catch(n$11){return Promise.reject(n$11)}},D.prototype.go=function(n$jscomp$0,
t){void 0===t&&(t="barba");try{var e$12=function(){"popstate"===t?i.history.add(n$jscomp$0,i.data.next.namespace):i.history.push(n$jscomp$0,i.data.next.namespace);var e=i.X;c.do("go",e);var o=r$jscomp$2(function(){var n=i.transitions.get(e);return Promise.resolve(i.transitions.doPage({data:e,page:u,transition:n,wrapper:i._})).then(function(){i.Y(e);i.G()})},function(n){i.history.cancel();i.logger.error(n)});if(o&&o.then)return o.then(function(){})},i=this;if(i.transitions.isRunning)return void i.force(n$jscomp$0);
i.data.next.url=Object.assign({},{href:n$jscomp$0},i.url.parse(n$jscomp$0));i.data.trigger=t;var o$jscomp$0=i.request(n$jscomp$0,i.timeout,i.Z.bind(i,t,"click")),u=i.cache.has(n$jscomp$0)?i.cache.get(n$jscomp$0):i.cache.set(n$jscomp$0,o$jscomp$0),f=function(){if(i.transitions.shouldWait)return Promise.resolve(A(u,i.data.next)).then(function(){})}();return f&&f.then?f.then(e$12):e$12()}catch(n$13){return Promise.reject(n$13)}},D.prototype.K=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",
this.W),document.addEventListener("touchstart",this.W));document.addEventListener("click",this.F);window.addEventListener("popstate",this.J)},D.prototype.V=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.W),document.removeEventListener("touchstart",this.W));document.removeEventListener("click",this.F);window.removeEventListener("popstate",this.J)},D.prototype.W=function(n$jscomp$0){var t=this;if(n$jscomp$0=this.nn(n$jscomp$0)){var i=this.dom.getUrl(n$jscomp$0);
this.prevent.checkUrl(i)||this.cache.has(i)||this.cache.set(i,this.request(i,this.timeout,this.Z.bind(this,n$jscomp$0,"enter")).catch(function(n){return t.logger.error(n)}))}},D.prototype.F=function(n){var t=this.nn(n);t&&(n.stopPropagation(),n.preventDefault(),this.prevent.run("sameUrl",t,n,t.href)?this.force(t.href):this.go(this.dom.getUrl(t),t))},D.prototype.J=function(){var n=this.url.getHref();this.go(n,"popstate")},D.prototype.Z=function(n,t){for(var r=[],i=arguments.length-2;0<i--;)r[i]=arguments[i+
2];i=r[0];r=r[1];return this.cache.delete(i),!(this.H&&!1===this.H(n,t,i,r)||("click"===t&&this.force(i),1))},D.prototype.nn=function(n){for(var t=n.target;t&&!this.dom.getUrl(t);)t=t.parentNode;if(t&&!this.prevent.checkLink(t,n,t.href))return t},D.prototype.G=function(){var n=this.url.getHref();this.X={current:{container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:Object.assign({},{href:n},this.url.parse(n))},next:Object.assign({},this.schemaPage),trigger:void 0};
c.do("reset",this.data)},D.prototype.Y=function(n){n=this.dom.toDocument(n.next.html);document.title=n.title},Object.defineProperties(D.prototype,f$jscomp$0),new D})}
//# sourceMappingURL=module$node_modules$$barba$core$dist$barba_umd.js.map
